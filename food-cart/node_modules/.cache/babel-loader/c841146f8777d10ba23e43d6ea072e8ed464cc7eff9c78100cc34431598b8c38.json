{"ast":null,"code":"var _jsxFileName = \"D:\\\\FoodCart\\\\food-cart\\\\src\\\\components\\\\AddButton.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useContext } from \"react\";\nimport { myContext } from \"../context/main\";\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default _c2 = /*#__PURE__*/_s( /*#__PURE__*/React.memo(_c = _s(function AddButton({\n  id,\n  quantity\n}) {\n  _s();\n  const navigate = useNavigate();\n  const [authToken, setAuthToken] = useState('');\n  useEffect(() => setAuthToken(localStorage.getItem('authToken') || ''), []);\n  const {\n    itemCount,\n    setItemCount,\n    setAddedItem,\n    addedItem\n  } = useContext(myContext);\n  const handleIncrement = id => {\n    if (authToken.length === 0) {\n      navigate('/signup');\n    } else {\n      if (quantity.length === 0) {\n        alert(\"Kindly select the quantity\");\n      } else {\n        setItemCount(itemCount + 1);\n        setAddedItem(addedItem => {\n          if (addedItem.find(item => item.id === id && item.quantity === quantity) == null) {\n            return [...addedItem, {\n              id: id,\n              quantity: quantity,\n              count: 1\n            }];\n          } else {\n            return addedItem.map(item => {\n              if (item.id === id && item.quantity === quantity) return {\n                ...item,\n                count: item.count + 1\n              };else return item;\n            });\n          }\n        });\n      }\n    }\n  };\n  const handleDecrement = id => {\n    setItemCount(itemCount - 1);\n    setAddedItem(addedItem => {\n      if (addedItem.find(item => item.id === id && item.quantity === quantity && item.count === 1)) {\n        const leftArray = addedItem.filter(item => item.id !== id);\n        const array = addedItem.filter(item => item.id === id && item.count > 1);\n        return [...leftArray, ...array];\n      }\n      return addedItem.map(item => {\n        if (item.count > 0 && item.id === id && item.quantity === quantity) return {\n          ...item,\n          count: item.count - 1\n        };else return item;\n      });\n    });\n  };\n  return addedItem.find(item => item.id === id && item.quantity === quantity) == null || addedItem.find(item => item.id === id) == null ? /*#__PURE__*/_jsxDEV(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    onClick: () => handleIncrement(id),\n    children: \"Add\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      onClick: () => handleIncrement(id),\n      style: {\n        paddingRight: \"1px\"\n      },\n      children: \"+\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: quantity.length === 0 ? addedItem.filter(item => item.id === id).reduce((total, current) => {\n        return total + current.count;\n      }, 0) : addedItem.find(item => item.id === id && item.quantity === quantity) != null && addedItem.find(item => item.id === id && item.quantity === quantity).count\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      onClick: () => handleDecrement(id),\n      style: {\n        paddingLeft: \"1px\"\n      },\n      children: \"-\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}, \"1Cp7Qu+/4lfgmNlwyJ5pquo2Tog=\", false, function () {\n  return [useNavigate];\n})), \"1Cp7Qu+/4lfgmNlwyJ5pquo2Tog=\", false, function () {\n  return [useNavigate];\n});\nvar _c, _c2;\n$RefreshReg$(_c, \"%default%$React.memo\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useEffect","useState","useContext","myContext","useNavigate","jsxDEV","_jsxDEV","_c2","_s","memo","_c","AddButton","id","quantity","navigate","authToken","setAuthToken","localStorage","getItem","itemCount","setItemCount","setAddedItem","addedItem","handleIncrement","length","alert","find","item","count","map","handleDecrement","leftArray","filter","array","type","class","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","style","paddingRight","reduce","total","current","paddingLeft","$RefreshReg$"],"sources":["D:/FoodCart/food-cart/src/components/AddButton.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useContext } from \"react\";\r\nimport { myContext } from \"../context/main\";\r\nimport { useNavigate } from 'react-router-dom';\r\nexport default React.memo(function AddButton({id,quantity}) {\r\n  const navigate = useNavigate();\r\n  const [authToken, setAuthToken] = useState('');\r\n  useEffect(()=>\r\n    setAuthToken(localStorage.getItem('authToken')||'')\r\n  ,[])\r\n  const { itemCount, setItemCount, setAddedItem, addedItem } =\r\n    useContext(myContext);\r\n  const handleIncrement = (id) => {\r\n    if(authToken.length === 0){\r\n      navigate('/signup');\r\n    }else\r\n    {\r\n      if (quantity.length === 0) {\r\n        alert(\"Kindly select the quantity\");\r\n      } else {\r\n        setItemCount(itemCount + 1);\r\n        setAddedItem((addedItem) => {\r\n          if (\r\n            addedItem.find(\r\n              (item) => item.id === id && item.quantity === quantity\r\n            ) == null\r\n          ) {\r\n            return [...addedItem, { id: id, quantity: quantity, count: 1 }];\r\n          } else {\r\n            return addedItem.map((item) => {\r\n              if (item.id === id && item.quantity === quantity)\r\n                return { ...item, count: item.count + 1 };\r\n              else return item;\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n  const handleDecrement = (id) => {\r\n    setItemCount(itemCount - 1);\r\n    setAddedItem((addedItem) => {\r\n      if(addedItem.find(item=>item.id===id && item.quantity===quantity && item.count === 1)){\r\n        const leftArray = addedItem.filter((item)=>item.id!==id);\r\n        const array = addedItem.filter((item) => item.id === id && item.count>1);\r\n        return [...leftArray,...array];\r\n      }\r\n      return addedItem.map((item)=>{\r\n        if (item.count > 0 && item.id === id && item.quantity === quantity)\r\n          return { ...item, count: item.count - 1 };\r\n        else return item;\r\n      })\r\n    });\r\n  };\r\n  return (addedItem.find((item) => item.id === id && item.quantity===quantity) ==\r\n    null)||addedItem.find((item) => item.id === id) ==\r\n    null ? (\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-primary\"\r\n      onClick={() => handleIncrement(id)}\r\n    >\r\n      Add\r\n    </button>\r\n  ) : (\r\n    <button type=\"button\" class=\"btn btn-primary\">\r\n      <span onClick={() => handleIncrement(id)} style={{ paddingRight: \"1px\" }}>\r\n        +\r\n      </span>\r\n      <span>\r\n        {quantity.length === 0\r\n          ? addedItem\r\n              .filter((item) => item.id === id)\r\n              .reduce((total, current) => {\r\n                return total + current.count;\r\n              }, 0)\r\n          : addedItem.find(\r\n              (item) => item.id === id && item.quantity === quantity\r\n            ) != null &&\r\n            addedItem.find(\r\n              (item) => item.id === id && item.quantity === quantity\r\n            ).count}\r\n      </span>\r\n      <span onClick={() => handleDecrement(id)} style={{ paddingLeft: \"1px\" }}>\r\n        -\r\n      </span>\r\n    </button>\r\n  );\r\n})\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,UAAU,QAAQ,OAAO;AAClC,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC/C,eAAAC,GAAA,gBAAAC,EAAA,eAAeT,KAAK,CAACU,IAAI,CAAAC,EAAA,GAAAF,EAAA,CAAC,SAASG,SAASA,CAAC;EAACC,EAAE;EAACC;AAAQ,CAAC,EAAE;EAAAL,EAAA;EAC1D,MAAMM,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC9CD,SAAS,CAAC,MACRgB,YAAY,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,IAAE,EAAE,CAAC,EACpD,EAAE,CAAC;EACJ,MAAM;IAAEC,SAAS;IAAEC,YAAY;IAAEC,YAAY;IAAEC;EAAU,CAAC,GACxDpB,UAAU,CAACC,SAAS,CAAC;EACvB,MAAMoB,eAAe,GAAIX,EAAE,IAAK;IAC9B,IAAGG,SAAS,CAACS,MAAM,KAAK,CAAC,EAAC;MACxBV,QAAQ,CAAC,SAAS,CAAC;IACrB,CAAC,MACD;MACE,IAAID,QAAQ,CAACW,MAAM,KAAK,CAAC,EAAE;QACzBC,KAAK,CAAC,4BAA4B,CAAC;MACrC,CAAC,MAAM;QACLL,YAAY,CAACD,SAAS,GAAG,CAAC,CAAC;QAC3BE,YAAY,CAAEC,SAAS,IAAK;UAC1B,IACEA,SAAS,CAACI,IAAI,CACXC,IAAI,IAAKA,IAAI,CAACf,EAAE,KAAKA,EAAE,IAAIe,IAAI,CAACd,QAAQ,KAAKA,QAChD,CAAC,IAAI,IAAI,EACT;YACA,OAAO,CAAC,GAAGS,SAAS,EAAE;cAAEV,EAAE,EAAEA,EAAE;cAAEC,QAAQ,EAAEA,QAAQ;cAAEe,KAAK,EAAE;YAAE,CAAC,CAAC;UACjE,CAAC,MAAM;YACL,OAAON,SAAS,CAACO,GAAG,CAAEF,IAAI,IAAK;cAC7B,IAAIA,IAAI,CAACf,EAAE,KAAKA,EAAE,IAAIe,IAAI,CAACd,QAAQ,KAAKA,QAAQ,EAC9C,OAAO;gBAAE,GAAGc,IAAI;gBAAEC,KAAK,EAAED,IAAI,CAACC,KAAK,GAAG;cAAE,CAAC,CAAC,KACvC,OAAOD,IAAI;YAClB,CAAC,CAAC;UACJ;QACF,CAAC,CAAC;MACJ;IACF;EACF,CAAC;EACD,MAAMG,eAAe,GAAIlB,EAAE,IAAK;IAC9BQ,YAAY,CAACD,SAAS,GAAG,CAAC,CAAC;IAC3BE,YAAY,CAAEC,SAAS,IAAK;MAC1B,IAAGA,SAAS,CAACI,IAAI,CAACC,IAAI,IAAEA,IAAI,CAACf,EAAE,KAAGA,EAAE,IAAIe,IAAI,CAACd,QAAQ,KAAGA,QAAQ,IAAIc,IAAI,CAACC,KAAK,KAAK,CAAC,CAAC,EAAC;QACpF,MAAMG,SAAS,GAAGT,SAAS,CAACU,MAAM,CAAEL,IAAI,IAAGA,IAAI,CAACf,EAAE,KAAGA,EAAE,CAAC;QACxD,MAAMqB,KAAK,GAAGX,SAAS,CAACU,MAAM,CAAEL,IAAI,IAAKA,IAAI,CAACf,EAAE,KAAKA,EAAE,IAAIe,IAAI,CAACC,KAAK,GAAC,CAAC,CAAC;QACxE,OAAO,CAAC,GAAGG,SAAS,EAAC,GAAGE,KAAK,CAAC;MAChC;MACA,OAAOX,SAAS,CAACO,GAAG,CAAEF,IAAI,IAAG;QAC3B,IAAIA,IAAI,CAACC,KAAK,GAAG,CAAC,IAAID,IAAI,CAACf,EAAE,KAAKA,EAAE,IAAIe,IAAI,CAACd,QAAQ,KAAKA,QAAQ,EAChE,OAAO;UAAE,GAAGc,IAAI;UAAEC,KAAK,EAAED,IAAI,CAACC,KAAK,GAAG;QAAE,CAAC,CAAC,KACvC,OAAOD,IAAI;MAClB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EACD,OAAQL,SAAS,CAACI,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACf,EAAE,KAAKA,EAAE,IAAIe,IAAI,CAACd,QAAQ,KAAGA,QAAQ,CAAC,IAC1E,IAAI,IAAGS,SAAS,CAACI,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACf,EAAE,KAAKA,EAAE,CAAC,IAC/C,IAAI,gBACJN,OAAA;IACE4B,IAAI,EAAC,QAAQ;IACbC,KAAK,EAAC,iBAAiB;IACvBC,OAAO,EAAEA,CAAA,KAAMb,eAAe,CAACX,EAAE,CAAE;IAAAyB,QAAA,EACpC;EAED;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAQ,CAAC,gBAETnC,OAAA;IAAQ4B,IAAI,EAAC,QAAQ;IAACC,KAAK,EAAC,iBAAiB;IAAAE,QAAA,gBAC3C/B,OAAA;MAAM8B,OAAO,EAAEA,CAAA,KAAMb,eAAe,CAACX,EAAE,CAAE;MAAC8B,KAAK,EAAE;QAAEC,YAAY,EAAE;MAAM,CAAE;MAAAN,QAAA,EAAC;IAE1E;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eACPnC,OAAA;MAAA+B,QAAA,EACGxB,QAAQ,CAACW,MAAM,KAAK,CAAC,GAClBF,SAAS,CACNU,MAAM,CAAEL,IAAI,IAAKA,IAAI,CAACf,EAAE,KAAKA,EAAE,CAAC,CAChCgC,MAAM,CAAC,CAACC,KAAK,EAAEC,OAAO,KAAK;QAC1B,OAAOD,KAAK,GAAGC,OAAO,CAAClB,KAAK;MAC9B,CAAC,EAAE,CAAC,CAAC,GACPN,SAAS,CAACI,IAAI,CACXC,IAAI,IAAKA,IAAI,CAACf,EAAE,KAAKA,EAAE,IAAIe,IAAI,CAACd,QAAQ,KAAKA,QAChD,CAAC,IAAI,IAAI,IACTS,SAAS,CAACI,IAAI,CACXC,IAAI,IAAKA,IAAI,CAACf,EAAE,KAAKA,EAAE,IAAIe,IAAI,CAACd,QAAQ,KAAKA,QAChD,CAAC,CAACe;IAAK;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC,eACPnC,OAAA;MAAM8B,OAAO,EAAEA,CAAA,KAAMN,eAAe,CAAClB,EAAE,CAAE;MAAC8B,KAAK,EAAE;QAAEK,WAAW,EAAE;MAAM,CAAE;MAAAV,QAAA,EAAC;IAEzE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CACT;AACH,CAAC;EAAA,QAnFkBrC,WAAW;AAAA,EAmF7B,CAAC;EAAA,QAnFiBA,WAAW;AAAA;AAmF5B,IAAAM,EAAA,EAAAH,GAAA;AAAAyC,YAAA,CAAAtC,EAAA;AAAAsC,YAAA,CAAAzC,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}